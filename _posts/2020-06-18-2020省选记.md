---
layout:		post
title:		2020省选记
date:		2020-06-18
author:		wyj
catalog:	true
tags:
    - OI
    - 游记
---

我的最后一次省选了。高一时写的省选记回顾：（[Round 2](/2019/04/28/JSOI-2019-Round2%E6%B8%B8%E8%AE%B0/)和[Round 1](/2019/04/06/JSOI2019-Round-1%E6%B8%B8%E8%AE%B0/)）。

# Day -1

觉得这多半会是我人生中的最后一天OI训练了，据说是信心赛，然而貌似这个信心只有高一的大佬们收到了：他们全部理论AK，我却不会。

下午首先是准备会。xyx告诉了我们一点~~人生的~~经验。然后大家都回家了，机房里就只剩下几个人。我开了一局以撒，夏娃，白嫖成功了，最后获得了白猫头硫磺火。觉得 `rp--`。

晚自习的时候机房里就只有我一个人了。后来来了hlh和dwh，结果hlh被老师发现了（我猜是他的班主任？），并且被严厉地批评了一顿。此老师貌似不太会组织语言，把几句话翻来覆去地重复了20分钟以上。并且其认为hlh和保送爷们“不是一个等级的”，“走路时都该低着头绕过去”，进行了人身攻击，甚至让他“快滚”，我看着都觉得这个sb真的不配为人师表。然而转念一想，这肯定就是我将来的命运，比我想象中地狱一般的高三还要可怕。我真的不想过上这种猪狗不如的生活！！！！凭什么只有集训队才配像个正常人一样活着？？？？？想着想着我就哭了一整节晚自习。

# Day 0

上午和高二的其他人一起学习了一下实验考试。洋葱表皮细胞质壁分离是真的难。由于用时远远超乎我的预料，就在学校里吃午饭了。午饭前后zc围观我通关了一局该隐，罕见的天使局。

下午去了南京。这次的酒店真的很豪华，然而住起来并不舒服。找半天找不到台灯的开关；椅子不能靠着后背，因为一靠就会倒下去，彻底翻车。我试图把椅子换成沙发，然而沙发太矮了，完全用不了电脑。只好把沙发挡在椅背之后，防止我往后靠时落马。

去试机。据说这次的NOI Linux开启了硬件虚拟化，然而我觉得还是很卡。写了`.bashrc`、`.inputrc`、`.vimrc`、gedit的片段和外部工具，魔改版主题，就像之前每次试机时我做的那样。发现自己已经几乎忘了gedit的编译运行怎么写的了。并且貌似只有我一台电脑的<kbd>Fn</kbd>键是全部坏掉的，完全不能使用<kbd>F9</kbd>和<kbd>F11</kbd>，我实在没办法，只好使用QtCreator风格的<kbd>Ctrl</kbd>+<kbd>B</kbd>和<kbd>Ctrl</kbd>+<kbd>R</kbd>。后来了解到snz等人的键盘也是有问题的，心理稍微平衡了点。

我写了个“max卷积”测试虚拟机的速度。用此（而不是FFT）测速的来源是[WC中指令集的介绍](https://wavwing.site/2019/01/26/2019.1.25%20trainingWeek/instruction_set_elephant.pdf)。在虚拟机里开了`-O2`（**而不是O3**）的情况下，$n=10^5$，两种写法都需要3.1s左右的时间。相比之下，我自己的笔记本只需要0.8s。所以说，这个虚拟机速度基本上正常。

晚上开了局Forgotten，全程魂形态打，过了超级撒旦。颓废结束之后复盘了一下近期的训练，看了下错误总结，祈祷自己不要FST。

# Day 1

早上继续很困。

先写了15分钟的各种配置。一开题，乍一看T1，怎么还有个这么奇怪的排序方法，看起来像是个不可做的贪心题，我就直接去看T2了。T2，纯数学题？一看就相当可做。然而我最开始把$F(k)$看成了$F(x)$，我就不会做了。领悟了正确的题意之后发现这是个sb题。半小时看题+写完+过大样例。

然后我回头去看T1，才发现那个排序完全没有卵用，随便怎么排答案都一样。一看数据范围，$2\times 10^6$；又一看，**没有O2！！！！！！！！！**我瞬间知道了这绝对是个究极卡常题。然而此时我还是只会两个log的二分+线段树。后来仔细想了想，发现可以线段树上二分，就直接开始码了。此时我心里想：这就是省选吗，怕不是一个小时就进队了？于是我怀疑起自己来。此时又看到了内存限制，才发现动态开点会MLE，**只好写离散化（记住这句话）**。题面里还有什么“立刻回答”，简直是在搞笑的。

于是线段树上二分很快就码完了。测了下样例，随便过了。测了下大样例，随便过了。写了个对拍，随便过了。我相当高兴。然而测满数据时我心态就崩了：开了O2还要6s。果然是究极卡常题啊，真的毒瘤。一个log的题为什么要开两百万还没有O2？？？？

于是后面几个小时的时间我都在卡常了。我把读入改成快读，线段树改成zkw，每次询问从在线段树上跑三次改成跑两次，并且每次改完都要重新对拍查错。不知不觉的比赛已经快结束了，可是我开了O2本机还要3.7s。我心态彻底崩了。想起去年Day 1的“字符串问题”那个题，我当时也是整场比赛都在卡那一道题的常数，那题我写的是两个log活该被卡，然而这题被卡常就没有天理了啊！！！！

然后我弃疗了。尝试T3。只有$0/1$的那一档分，我写了个假的最小割，大样例输出$26$。此时觉得实在是不得不写暴力了，否则还要更惨。然而我计算了一下暴力的复杂度：$\binom{10}{5}\times 5^{10}$，复杂度都爆`int`了，第一档分都别想过。只好写了个自我感觉没分的乱搞，就真的弃疗了。

期望最坏得分$60+100+0=160$，最优得分$100+100+15=215$。

出考场之后发现大家都200+。我又自闭了。这次是真的肯定要退役了。然而高二除了我和snz之外没有人过T2是真的出乎了我的意料。然后和大家交流了一下T1写法的细节，发现只有离散化这一项我可能比较劣：我用了`lower_bound`来离散化，而不是把编号带进去排序。想起来曾经snz的这个写法还是跟我学的，就更加后悔了。下载了自己的程序，本机不开O2要2.9s，把`lower_bound`改成排序就只要2.2s了。亏爆了！万一我退役失败，以后就算打死我也不敢再用`lower_bound`离散化了。
